<!DOCTYPE html><html lang="zhCN"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="description" content="_FIS_构建工具_前端工具框架"><meta name="keywords" content=",百度前端团队,FIS,百度FIS,百度前端,fis,前端模块化,前端工程,性能优化,web performance"><title>内容嵌入- F.I.S</title><meta name="author" content="fis team"><!-- Enable responsive viewport --><meta name="viewport" content="width=device-width,initial-scale=1"><!-- Custom styles --><!--<link href="/assets/themes/fis/css/highlight/monokai_sublime.css" rel="stylesheet" type="text/css" media="all">--><!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries --><!-- WARNING: Respond.js doesn't work if you view the page via file:// --><!--[if lt IE 9]>
    <script src="http://hefangshi.github.io/fis-site/assets/themes/fis/js/html5shiv_3855464.js"></script>
    <script src="http://hefangshi.github.io/fis-site/assets/themes/fis/js/respond.min_504acdd.js"></script>
    <![endif]--><!-- Fav and touch icons --><!-- Update these with your own images
      <link rel="shortcut icon" href="images/favicon.ico">
      <link rel="apple-touch-icon" href="images/apple-touch-icon.png">
      <link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
      <link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">
    --><link type="text/css" rel="stylesheet" href="http://hefangshi.github.io/fis-site/pkg/auto_combine_1_cd5f28f.css">
</head><body><header class="navbar"><section><a href="/index.html"><div class="logo"><i class="fa fa-cogs"></i> F.I.S - 前端工具框架</div></a><div class="nav-items"><a href="/index.html"><div class="nav-item">首页</div></a> <a href="/docs/beginning/getting-started.html"><div class="nav-item">使用文档</div></a> <a href="http://oak.baidu.com"><div class="nav-item">解决方案</div></a> <a target="_blank" href="http://fex.baidu.com"><div class="nav-item">FEX官网</div></a></div></section></header><div id="wrap"><aside><nav class="sidebar"><ul><li class="item-category"><a href="/docs/beginning/getting-started.html">快速入门</a></li><li class="item-sub"><a href="/docs/beginning/getting-started.html#optimize">资源压缩</a></li><li class="item-sub"><a href="/docs/beginning/getting-started.html#combine">资源合并</a></li><li class="item-sub"><a href="/docs/beginning/assist.html">辅助开发</a></li><li class="item-sub"><a href="/docs/api/cli.html">命令行</a></li><li class="item-category"><span>进阶使用</span></li><li class="item-sub"><a href="/docs/more/fis-standard.html">语言能力</a></li><li class="item-sub"><a href="/docs/advance/roadmap.html">roadmap详解</a></li><li class="item-sub"><a href="/docs/advance/modjs-solution.html">前端模块化</a></li><li class="item-sub"><a href="/docs/advance/plugin-list.html">更多插件</a></li><li class="item-category"><a href="/docs/dev/intro.html">二次开发</a></li><li class="item-sub"><a href="/docs/dev/plugin.html">插件开发</a></li><li class="item-sub"><a href="/docs/dev/solution.html">解决方案封装</a></li><li class="item-category"><a href="/docs/dev/more.html">更多文档</a></li><li class="item-category"><a href="/docs/api/fis-conf.html">配置API</a></li><li class="item-sub"><a href="/docs/api/fis-conf.html">配置文件</a></li><li class="item-sub"><a href="/docs/api/fis-conf.html#project">project</a></li><li class="item-sub"><a href="/docs/api/fis-conf.html#modules">modules</a></li><li class="item-sub"><a href="/docs/api/fis-conf.html#settings">settings</a></li><li class="item-sub"><a href="/docs/api/fis-conf.html#roadmap">roadmap</a></li><li class="item-sub"><a href="/docs/api/fis-conf.html#pack">pack</a></li><li class="item-sub"><a href="/docs/api/fis-conf.html#deploy">deploy</a></li><li class="item-category"><a href="/docs/api/dev.html">插件开发API</a></li><li class="item-sub"><a href="/docs/api/dev.html#fisutil">fis.util</a></li><li class="item-sub"><a href="/docs/api/dev.html#fiscli">fis.cli</a></li><li class="item-sub"><a href="/docs/api/dev.html#fisfile">fis.file</a></li><li class="item-sub"><a href="/docs/api/dev.html#fisconfig">fis.config</a></li><li class="item-sub"><a href="/docs/api/dev.html#fiscompile">fis.compile</a></li><li class="item-sub"><a href="/docs/api/dev.html#fislog">fis.log</a></li><li class="item-category"><a href="https://github.com/fex-team/fis/issues/new">问题反馈</a></li><li class="item-category"><a href="https://github.com/fex-team/fis/issues?labels=faq&page=1&state=open">FAQ</a></li></ul></nav><div class="bottom-shadow"></div></aside><div class="container"><article class="doc-content"><div class="toc affix"></div><h1>内容嵌入</h1><p><i class="anchor" id="html"></i></p><h2>在html中嵌入资源</h2><blockquote><p>在html中可以嵌入其他文件内容或者base64编码值，可以在资源定位的基础上，给资源加 <strong>?__inline</strong> 参数来标记资源嵌入需求。</p></blockquote><ul><li><p>html中嵌入图片base64</p><ul><li><p>源码：</p><div class="highlight"><pre><code class="html language-html" data-lang="html"><span class="nt">&lt;img</span> <span class="na">title=</span><span class="s">&quot;百度logo&quot;</span> <span class="na">src=</span><span class="s">&quot;images/logo.gif?__inline&quot;</span><span class="nt">/&gt;</span>
</code></pre></div></li><li><p>编译后</p><div class="highlight"><pre><code class="html language-html" data-lang="html"><span class="nt">&lt;img</span> <span class="na">title=</span><span class="s">&quot;百度logo&quot;</span> <span class="na">src=</span><span class="s">&quot;data:image/gif;base64,R0lGODlhDgGBALMAAGBn6eYxLvvy9PnKyfO...Jzna6853wjKc850nPeoYgAgA7&quot;</span><span class="nt">/&gt;</span>
</code></pre></div></li></ul></li><li><p>html中嵌入样式文件</p><ul><li><p>源码：</p><div class="highlight"><pre><code class="html language-html" data-lang="html"><span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">&quot;stylesheet&quot;</span> <span class="na">type=</span><span class="s">&quot;text/css&quot;</span> <span class="na">href=</span><span class="s">&quot;demo.css?__inline&quot;</span><span class="nt">&gt;</span>
</code></pre></div></li><li><p>编译后</p><div class="highlight"><pre><code class="html language-html" data-lang="html"><span class="nt">&lt;style&gt;img</span> <span class="p">{</span> <span class="k">border</span><span class="o">:</span> <span class="m">5px</span> <span class="k">solid</span> <span class="m">#ccc</span><span class="p">;</span> <span class="p">}</span><span class="nt">&lt;/style&gt;</span>
</code></pre></div></li></ul></li><li><p>html中嵌入脚本资源</p><ul><li><p>源码：</p><div class="highlight"><pre><code class="html language-html" data-lang="html"><span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span> <span class="na">src=</span><span class="s">&quot;demo.js?__inline&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
</code></pre></div></li><li><p>编译后</p><div class="highlight"><pre><code class="html language-html" data-lang="html"><span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span><span class="nt">&gt;</span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;inline file&#39;</span><span class="p">);</span><span class="nt">&lt;/script&gt;</span>
</code></pre></div></li></ul></li><li><p>html中嵌入页面文件</p><ul><li><p>源码（推荐使用）：</p><div class="highlight"><pre><code class="html language-html" data-lang="html"><span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">&quot;import&quot;</span> <span class="na">href=</span><span class="s">&quot;demo.html?__inline&quot;</span><span class="nt">&gt;</span>
</code></pre></div></li><li><p>编译后</p><div class="highlight"><pre><code class="html language-html" data-lang="html"><span class="c">&lt;!-- this is the content of demo.html --&gt;</span>
<span class="nt">&lt;h1&gt;</span>demo.html content<span class="nt">&lt;/h1&gt;</span>
</code></pre></div></li><li><p>源码（功能同&lt;link ref=&quot;import&quot; href=&quot;xxx?__inline&quot;&gt;语法，此语法为旧语法，<code>不推荐使用</code> ）：</p><div class="highlight"><pre><code class="html language-html" data-lang="html"><span class="c">&lt;!--inline[demo.html]--&gt;</span>
</code></pre></div></li><li><p>编译后</p><div class="highlight"><pre><code class="html language-html" data-lang="html"><span class="c">&lt;!-- this is the content of demo.html --&gt;</span>
<span class="nt">&lt;h1&gt;</span>demo.html content<span class="nt">&lt;/h1&gt;</span>
</code></pre></div></li></ul></li></ul><p><i class="anchor" id="js"></i></p><h2>在js中嵌入资源</h2><blockquote><p>在js中，使用编译函数 <strong>__inline()</strong> 来提供内容嵌入能力。可以利用这个函数嵌入图片的base64编码、嵌入其他js或者前端模板文件的编译内容， <strong>这些处理对html中script标签里的内容同样有效</strong>。</p></blockquote><ul><li><p>在js中嵌入js文件</p><ul><li><p>源码：</p><div class="highlight"><pre><code class="javascript language-javascript" data-lang="javascript"><span class="nx">__inline</span><span class="p">(</span><span class="s1">&#39;demo.js&#39;</span><span class="p">);</span>
</code></pre></div></li><li><p>编译后</p><div class="highlight"><pre><code class="javascript language-javascript" data-lang="javascript"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;demo.js content&#39;</span><span class="p">);</span>
</code></pre></div></li></ul></li><li><p>在js中嵌入图片base64</p><ul><li><p>源码：</p><div class="highlight"><pre><code class="javascript language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">img</span> <span class="o">=</span> <span class="nx">__inline</span><span class="p">(</span><span class="s1">&#39;images/logo.gif&#39;</span><span class="p">);</span>
</code></pre></div></li><li><p>编译后：</p><div class="highlight"><pre><code class="javascript language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">img</span> <span class="o">=</span> <span class="s1">&#39;data:image/gif;base64,R0lGODlhDgGBALMAAGBn6eYxLvvy9PnKyfO...Jzna6853wjKc850nPeoYgAgA7&#39;</span><span class="p">;</span>
</code></pre></div></li></ul></li><li><p>在js中嵌入其他文本文件</p><ul><li><p>源码：</p><div class="highlight"><pre><code class="javascript language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">css</span> <span class="o">=</span> <span class="nx">__inline</span><span class="p">(</span><span class="s1">&#39;a.css&#39;</span><span class="p">);</span>
</code></pre></div></li><li><p>编译后：</p><div class="highlight"><pre><code class="javascript language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">css</span> <span class="o">=</span> <span class="s2">&quot;body \n{    color: red;\n}&quot;</span><span class="p">;</span>
</code></pre></div></li></ul></li></ul><p><i class="anchor" id="css"></i></p><h2>在css中嵌入资源</h2><blockquote><p>与html类似，凡是命中了资源定位能力的编译标记， <strong>除了src=&quot;xxx&quot;之外</strong>，都可以通过添加 <code>?__inline</code> 编译标记都可以把文件内容嵌入进来。src=&quot;xxx&quot;被用在ie浏览器支持的filter内，该属性不支持base64字符串，因此未做处理。</p></blockquote><ul><li><p>在css文件中嵌入其他css文件</p><ul><li><p>源码：</p><div class="highlight"><pre><code class="css language-css" data-lang="css"><span class="k">@import</span> <span class="nt">url</span><span class="o">(</span><span class="s1">&#39;demo.css?__inline&#39;</span><span class="o">)</span><span class="p">;</span>
</code></pre></div></li><li><p>编译后</p><div class="highlight"><pre><code class="css language-css" data-lang="css"><span class="nt">img</span> <span class="p">{</span> <span class="k">border</span><span class="o">:</span> <span class="m">5px</span> <span class="k">solid</span> <span class="m">#ccc</span><span class="p">;</span> <span class="p">}</span><span class="o">;</span>
</code></pre></div></li></ul></li><li><p>在css中嵌入图片的base64</p><ul><li><p>源码：</p><div class="highlight"><pre><code class="css language-css" data-lang="css"><span class="nc">.style</span> <span class="p">{</span>
    <span class="k">background</span><span class="o">:</span> <span class="sx">url(images/logo.gif?__inline)</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></li><li><p>编译后</p><div class="highlight"><pre><code class="css language-css" data-lang="css"><span class="nc">.style</span> <span class="p">{</span>
    <span class="k">background</span><span class="o">:</span> <span class="sx">url(data:image/gif;base64,R0lGODlhDgGBALMAAGBn6eYxLvvy9PnKyfO...Jzna6853wjKc850nPeoYgAgA7)</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></li></ul></li></ul><!-- 多说评论框 start --><div class="ds-thread" data-thread-key="" data-title="内容嵌入- F.I.S" data-url="/docs/more/fis-standard-inline.html"></div><!-- 多说评论框 end --><!-- 多说公共JS代码 start --><!-- 多说公共JS代码 end --></article></div></div><!-- Latest compiled and minified JavaScript, requires jQuery 1.x (2.x not supported in IE8) --><!-- Placed at the end of the document so the pages load faster --><script type="text/javascript" charset="utf-8" src="http://hefangshi.github.io/fis-site/pkg/auto_combine_0_30c4df7.js"></script>
<script type="text/javascript">!function(){var i=window.location.href;-1!==i.indexOf("http://fex.baidu.com/fis-site")&&(window.location.href=i.replace("http://fex.baidu.com/fis-site","http://fis.baidu.com"))}();</script><script type="text/javascript">var duoshuoQuery={short_name:"fis-site"};!function(){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src=("https:"==document.location.protocol?"https:":"http:")+"//static.duoshuo.com/embed.js",t.charset="UTF-8",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(t)}();</script><script type="text/javascript">$("a").each(function(t,r){0===$(r).attr("href").indexOf("/")?$(r).attr("href",""+$(r).attr("href")):0!==$(r).attr("href").indexOf("#")&&$(r).attr("target","_blank")});</script><script type="text/javascript">!function(){function e(e,n){var i=$('<div style="display:none;"/>').appendTo($("body"));i.html("<!--[if "+(n||"")+" IE "+(e||"")+"]><a>&nbsp;</a><![endif]-->");var o=i.find("a").length;return i.remove(),o}function n(){function e(){i||(console.log("enable"),i=!0,$(".sidebar").perfectScrollbar({wheelSpeed:10,wheelPropagation:!1}))}function n(){i&&(console.log("disable"),i=!1,$(".sidebar").perfectScrollbar("destroy"))}$(window).width()>760&&$(".sidebar").height()<$(".sidebar ul").height()?e():n()}var i=!1;e(8,"lte")||($(".sidebar").addClass("scrollbar"),n(),$(window).resize(n))}();</script></body></html>