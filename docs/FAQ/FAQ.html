<!DOCTYPE html><html lang="zhCN"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="description" content="_FIS_构建工具_前端工具框架"><meta name="keywords" content=",百度前端团队,FIS,百度FIS,百度前端,fis,前端模块化,前端工程,性能优化,web performance"><title>FAQ-F.I.S</title><meta name="author" content="fis team"><!-- Enable responsive viewport --><meta name="viewport" content="width=device-width,initial-scale=1"><link type="text/css" rel="stylesheet" href="http://fex-team.github.io/fis-site/assets/themes/fis/css/normalize_5f79cb1.css">
<link type="text/css" rel="stylesheet" href="http://fex-team.github.io/fis-site/assets/themes/fis/css/main_217d1b6.css">
<!-- Custom styles --><link type="text/css" rel="stylesheet" href="http://fex-team.github.io/fis-site/assets/themes/fis/css/style_a0a3e75.css">
<!--<link href="//css/highlight/monokai_sublime.css" rel="stylesheet" type="text/css" media="all">--><link type="text/css" rel="stylesheet" href="http://fex-team.github.io/fis-site/assets/themes/fis/css/pygments/github_d92ecad.css">
<link type="text/css" rel="stylesheet" href="http://fex-team.github.io/fis-site/assets/themes/fis/css/perfect-scrollbar.min_0321076.css">
<link href="assets/css/font-awesome.min.css" rel="stylesheet" type="text/css" media="all"><script type="text/javascript"></script><!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries --><!-- WARNING: Respond.js doesn't work if you view the page via file:// --><!--[if lt IE 9]>
    <script src="/js/html5shiv.js"></script>
    <script src="/js/respond.min.js"></script>
    <![endif]--><!-- Fav and touch icons --><!-- Update these with your own images
      <link rel="shortcut icon" href="images/favicon.ico">
      <link rel="apple-touch-icon" href="images/apple-touch-icon.png">
      <link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
      <link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">
    --><script type="text/javascript" charset="utf-8" src="http://fex-team.github.io/fis-site/assets/themes/fis/js/jquery.min_45ac1eb.js"></script>
<script type="text/javascript" charset="utf-8" src="http://fex-team.github.io/fis-site/assets/themes/fis/js/scrollspy_f211cc4.js"></script>
</head><body><header class="navbar"><section><a href="/fis-site/index.html"><div class="logo"><i class="fa fa-cogs"></i> F.I.S - 前端工具框架</div></a><div class="nav-items"><a href="/fis-site/index.html"><div class="nav-item">首页</div></a> <a href="/fis-site/docs/beginning/getting-started.html"><div class="nav-item">使用文档</div></a> <a href="http://oak.baidu.com"><div class="nav-item">解决方案</div></a> <a target="_blank" href="http://www.imooc.com/learn/220"><div class="nav-item">在线课程</div></a> <a target="_blank" href="http://fex.baidu.com"><div class="nav-item">FEX官网</div></a></div></section></header><div id="wrap"><aside><nav class="sidebar"><ul><li class="item-category"><a href="/fis-site/docs/beginning/getting-started.html">快速入门</a></li><li class="item-sub"><a href="/fis-site/docs/beginning/getting-started.html#optimize">资源压缩</a></li><li class="item-sub"><a href="/fis-site/docs/beginning/getting-started.html#combine">资源合并</a></li><li class="item-sub"><a href="/fis-site/docs/beginning/assist.html">辅助开发</a></li><li class="item-sub"><a href="/fis-site/docs/api/cli.html">命令行</a></li><li class="item-category"><span>进阶使用</span></li><li class="item-sub"><a href="/fis-site/docs/more/fis-standard.html#资源定位">资源定位</a></li><li class="item-sub"><a href="/fis-site/docs/more/fis-standard.html#内容嵌入">内容嵌入</a></li><li class="item-sub"><a href="/fis-site/docs/more/fis-standard.html#依赖声明">依赖声明</a></li><li class="item-sub"><a href="/fis-site/docs/advance/roadmap.html">roadmap详解</a></li><li class="item-sub"><a href="/fis-site/docs/advance/modjs-solution.html">前端模块化</a></li><li class="item-sub"><a href="/fis-site/docs/advance/plugin-list.html">更多插件</a></li><li class="item-category"><a href="/fis-site/docs/dev/intro.html">二次开发</a></li><li class="item-sub"><a href="/fis-site/docs/dev/plugin.html">插件开发</a></li><li class="item-sub"><a href="/fis-site/docs/dev/solution.html">解决方案封装</a></li><li class="item-category"><a href="/fis-site/docs/dev/more.html">更多文档</a></li><li class="item-category"><a href="/fis-site/docs/api/fis-conf.html">配置API</a></li><li class="item-sub"><a href="/fis-site/docs/api/fis-conf.html">配置文件</a></li><li class="item-sub"><a href="/fis-site/docs/api/fis-conf.html#project">project</a></li><li class="item-sub"><a href="/fis-site/docs/api/fis-conf.html#modules">modules</a></li><li class="item-sub"><a href="/fis-site/docs/api/fis-conf.html#settings">settings</a></li><li class="item-sub"><a href="/fis-site/docs/api/fis-conf.html#roadmap">roadmap</a></li><li class="item-sub"><a href="/fis-site/docs/api/fis-conf.html#pack">pack</a></li><li class="item-sub"><a href="/fis-site/docs/api/fis-conf.html#deploy">deploy</a></li><li class="item-category"><a href="/fis-site/docs/api/dev.html">插件开发API</a></li><li class="item-category"><a href="/fis-sitehttps://github.com/fex-team/fis/issues/new">问题反馈</a></li><li class="item-category"><a href="/fis-sitehttps://github.com/fex-team/fis/issues?labels=faq&page=1&state=open">FAQ</a></li></ul></nav><div class="bottom-shadow"></div></aside><div class="container"><article class="doc-content"><div class="toc affix"></div><h1>FAQ</h1><h2>FIS安装不上？</h2><p>FIS作为nodejs模块发布托管在 <a href="https://www.npmjs.org/">npm</a>上，npm是nodejs的包管理工具。<a href="https://www.npmjs.org/search?q=fis">查看npm网站</a></p><ul><li>用户需要使用npm install命令来安装FIS。更多npm使用，执行 npm -h 来查看</li><li><code>由于npm经常被墙，安装FIS的时候会出现速度过慢，或者安装不上的问题</code> 。</li><li>可以通过 npm的 <code>--registry</code> 参数指定仓库。指定国内的npm镜像来解决npm被墙的问题。</li></ul><p>例如：</p><div class="highlight"><pre><code class="language-bash" data-lang="bash">npm install some-npm-module -g --registry<span class="o">=</span>国内镜像
</code></pre></div><ul><li>下面提供一个国内镜像。其他镜像大家可以自己找找</li><li>--registry=<a href="http://r.cnpmjs.org">http://r.cnpmjs.org</a></li></ul><h2>FIS中使用less和coffee？</h2><p>项目中使用less、coffee的方法：</p><p>安装less、coffee的FIS扩展插件：</p><div class="highlight"><pre><code class="language-bash" data-lang="bash">npm install -g fis-parser-less 
npm install -g fis-parser-coffee
</code></pre></div><p>配置fis，调用相关插件</p><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">fis</span><span class="p">.</span><span class="nx">config</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s1">'modules.parser.less'</span><span class="p">,</span> <span class="s1">'less'</span><span class="p">);</span>
<span class="nx">fis</span><span class="p">.</span><span class="nx">config</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s1">'modules.parser.coffee'</span><span class="p">,</span> <span class="s1">'coffee'</span><span class="p">);</span>
</code></pre></div><p>这样，你项目中的less、coffee后缀的文件就都能被编译成css或者js了。</p><p>详细信息可以查看<a href="https://github.com/fis-dev/fis/wiki">wiki</a></p><p>FIS的编译有一个内置的流程，可以根据需要在适当的流程中使用插件处理文件。<strong>每个文件的处理，以后缀名为依据</strong>，分别会经过：语言处理（parser）→标准预处理（preprocessor）→标准后处理（postprocessor）→校验（lint）→测试（test）→优化（optimizer）</p><p>配置的方式是</p><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">fis</span><span class="p">.</span><span class="nx">config</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s1">'modules.流程名.文件后缀'</span><span class="p">,</span> <span class="s1">'插件名'</span><span class="p">);</span>
</code></pre></div><p>这里涉及到两个概念：流程 与 插件</p><p>流程：比如你希望用fis开发less，首先，less文件的语言处理阶段是 parser ，这个阶段负责把less、coffee这样的非标准化语言，转换成标准语言（标准语言只有js、css和html）。 插件：在 parser 阶段，fis会根据fis-conf.js的配置和文件后缀调用插件，fis内置了几个插件，但没有less、coffee，所以在需要less、coffee构建的时候，你需要先安装相关插件，来扩展fis的功能。插件的命名是 fis-流程名-插件名，比如这里我们要在parser阶段编译less，那么我们的插件名就是 fis-parser-less。</p><h2>查看release error详细报错信息？</h2><p>fis release 加上 <strong>--verbose参数</strong>，可以显示详细信息.</p><h2>deploy时，多个字符串替换？</h2><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="p">{</span>
    <span class="p">....</span>
    <span class="nl">replace</span> <span class="p">:</span> <span class="p">{</span>
        <span class="nl">from</span> <span class="p">:</span> <span class="sr">/http:</span><span class="se">\/\/</span><span class="sr">www</span><span class="se">\.(\w</span><span class="sr">+</span><span class="se">)\.</span><span class="sr">com/g</span><span class="p">,</span>
        <span class="nx">to</span> <span class="err">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">m</span><span class="p">,</span> <span class="nx">$1</span><span class="p">){</span>
            <span class="k">switch</span><span class="p">(</span><span class="nx">$1</span><span class="p">){</span>
                <span class="k">case</span> <span class="s1">'online1'</span><span class="err">:</span>
                    <span class="k">return</span> <span class="s1">'http://www.offline1.com'</span><span class="p">;</span>
                <span class="k">case</span> <span class="s1">'online2'</span><span class="err">:</span>
                    <span class="k">return</span> <span class="s1">'http://www.offline2.com'</span><span class="p">;</span>
                <span class="nl">default</span> <span class="p">:</span> 
                    <span class="k">return</span> <span class="s1">'http://www.offline.com'</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">},</span>
    <span class="p">....</span>
<span class="p">}</span>
</code></pre></div><p>利用replace的function功能</p><p><strong>这个功能一般是给发布的时候需要替换线上线下路径用的</strong> ，如果希望针对文件内容做一些处理，应该用fis的插件系统：</p><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">fis</span><span class="p">.</span><span class="nx">config</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s1">'modules.preprocessor.js'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">content</span><span class="p">){</span>
    <span class="c1">//这里处理content，并返回处理结果</span>
    <span class="k">return</span> <span class="nx">content</span><span class="p">;</span>
<span class="p">});</span>
</code></pre></div><p>上面的配置只是针对js后缀的文件的。</p><h2>deploy上传出错，报RESET？</h2><p>一般：RESET一般都是目标机开着防火墙导致的，nginx关一下policy frame,ligttpd关一下fireware。 具体怎么做，请查看服务器相关文档。</p><h2>fis release 之后得目录在哪?</h2><p>如果没有指定或者設置常量会存放到用戶跟目錄下。可以使用以下命令打开。</p><div class="highlight"><pre><code class="language-bash" data-lang="bash">    fis server open
</code></pre></div><h2>fis &amp; fisp 区别</h2><p>可以参考以下文章： <a href="http://fex.baidu.com/blog/2014/03/fis-plus/">FIS &amp; FISP</a></p><h2>如何关闭自动添加md5功能？</h2><p>设置<code>useHash</code> 为false即可。</p><div class="highlight"><pre><code class="language-javascript" data-lang="javascript">
<span class="nx">fis</span><span class="p">.</span><span class="nx">config</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s1">'roadmap.path'</span><span class="p">,</span> <span class="p">[</span>
    <span class="p">{</span>
        <span class="na">reg</span><span class="p">:</span> <span class="sr">/.*</span><span class="se">\.(</span><span class="sr">js|css</span><span class="se">)</span><span class="sr">$/</span>
        <span class="na">useHash</span><span class="p">:</span> <span class="kc">false</span>
    <span class="p">}</span>
<span class="p">]);</span>
</code></pre></div><h2>如何使用时间戳代替md5？</h2><p>可以参考如下配置：</p><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">now</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">();</span>
<span class="nx">fis</span><span class="p">.</span><span class="nx">config</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s1">'timestamp'</span><span class="p">,</span> <span class="p">[</span><span class="nx">now</span><span class="p">.</span><span class="nx">getFullYear</span><span class="p">(),</span> <span class="nx">now</span><span class="p">.</span><span class="nx">getMonth</span><span class="p">()</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="nx">now</span><span class="p">.</span><span class="nx">getDate</span><span class="p">(),</span> <span class="nx">now</span><span class="p">.</span><span class="nx">getHours</span><span class="p">()].</span><span class="nx">join</span><span class="p">(</span><span class="s1">''</span><span class="p">));</span>

<span class="nx">fis</span><span class="p">.</span><span class="nx">config</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s1">'roadmap.path'</span><span class="p">,</span> <span class="p">[</span>
    <span class="p">{</span>
        <span class="na">reg</span><span class="p">:</span> <span class="sr">/.*</span><span class="se">\.(</span><span class="sr">js|css</span><span class="se">)</span><span class="sr">$/</span><span class="p">,</span>
        <span class="na">query</span><span class="p">:</span> <span class="s1">'?t=${timestamp}'</span><span class="p">,</span>
        <span class="na">useHash</span><span class="p">:</span> <span class="kc">false</span>
    <span class="p">},</span>
    <span class="p">{</span>
        <span class="na">reg</span><span class="p">:</span> <span class="s1">'**.html'</span><span class="p">,</span>
        <span class="na">useCache</span><span class="p">:</span> <span class="kc">false</span>
    <span class="p">}</span>
<span class="p">]);</span>
</code></pre></div><h2>如何关闭FIS的编译流程？</h2><p>设置<code>useCompile</code> 为false即可。</p><div class="highlight"><pre><code class="language-javascript" data-lang="javascript">
<span class="nx">fis</span><span class="p">.</span><span class="nx">config</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s1">'roadmap.path'</span><span class="p">,</span> <span class="p">[</span>
    <span class="p">{</span>
        <span class="na">reg</span><span class="p">:</span> <span class="sr">/.*</span><span class="se">\.(</span><span class="sr">js|css</span><span class="se">)</span><span class="sr">$/</span>
        <span class="na">useCompile</span><span class="p">:</span> <span class="kc">false</span>
    <span class="p">}</span>
<span class="p">]);</span>
</code></pre></div><h2>less @import()，--watch不起作用？</h2><p>import (inline) 是less处理的，没有让fis管理。可以尝试把@import (inline) &quot;b.less&quot;改成@import url(&#39;b.less?__inline&#39;); 有FIS来管理。</p><h2>想扩展FIS，实现manifest功能怎么做？</h2><p>可以的，FIS没有针对前端领域开发的方方面面做出demo，但FIS是一个很灵活的构建系统，以manifest为例，可以这样配置FIS来生成：</p><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">//配置fis在打包后处理阶段的一些操作</span>
<span class="nx">fis</span><span class="p">.</span><span class="nx">config</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s1">'modules.postpackager'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">ret</span><span class="p">){</span>
    <span class="c1">//创建一个新文件</span>
    <span class="kd">var</span> <span class="nx">manifest</span> <span class="o">=</span> <span class="nx">fis</span><span class="p">.</span><span class="nx">file</span><span class="p">(</span><span class="nx">fis</span><span class="p">.</span><span class="nx">getProjectPath</span><span class="p">(</span><span class="s1">'res.manifest'</span><span class="p">));</span>
    <span class="c1">//文件内容</span>
    <span class="kd">var</span> <span class="nx">content</span> <span class="o">=</span> <span class="p">[</span> <span class="s1">'CACHE MANIFEST'</span><span class="p">,</span> <span class="s1">'CACHE:'</span> <span class="p">];</span>
    <span class="c1">//manifest文件的url路径</span>
    <span class="kd">var</span> <span class="nx">url</span> <span class="o">=</span> <span class="nx">manifest</span><span class="p">.</span><span class="nx">getUrl</span><span class="p">();</span>
    <span class="c1">//ret参数已经帮你准备好了所有源码文件，这里只要遍历就好了</span>
    <span class="nx">fis</span><span class="p">.</span><span class="nx">util</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">ret</span><span class="p">.</span><span class="nx">src</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">subpath</span><span class="p">,</span> <span class="nx">file</span><span class="p">){</span>
        <span class="k">if</span><span class="p">(</span><span class="nx">file</span><span class="p">.</span><span class="nx">isHtmlLike</span><span class="p">){</span> <span class="c1">//如果是html类文件</span>
            <span class="c1">//把manifest文件的url插入到html标签之后</span>
            <span class="nx">file</span><span class="p">.</span><span class="nx">setContent</span><span class="p">(</span><span class="nx">file</span><span class="p">.</span><span class="nx">getContent</span><span class="p">().</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/&lt;html</span><span class="se">\s</span><span class="sr">+/g</span><span class="p">,</span> <span class="s1">'$&amp;manifest="'</span> <span class="o">+</span> <span class="nx">url</span> <span class="o">+</span> <span class="s1">'" '</span><span class="p">));</span>
        <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">file</span><span class="p">.</span><span class="nx">isJsLike</span> <span class="o">||</span> <span class="nx">fils</span><span class="p">.</span><span class="nx">isCssLike</span><span class="p">){</span> <span class="c1">//如果是js、css类文件</span>
            <span class="nx">content</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">file</span><span class="p">.</span><span class="nx">getUrl</span><span class="p">());</span> <span class="c1">//把文件的url放到manifest文件中</span>
        <span class="p">}</span>
    <span class="p">});</span>
    <span class="c1">//设置manifest文件内容</span>
    <span class="nx">manifest</span><span class="p">.</span><span class="nx">setContent</span><span class="p">(</span><span class="nx">content</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s1">'\n'</span><span class="p">));</span>
    <span class="c1">//把文件对象加到打包文件表中，fis会自动发布出来</span>
    <span class="nx">ret</span><span class="p">.</span><span class="nx">pkg</span><span class="p">[</span><span class="nx">manifest</span><span class="p">.</span><span class="nx">subpath</span><span class="p">]</span> <span class="o">=</span> <span class="nx">manifest</span><span class="p">;</span>
<span class="p">});</span>
</code></pre></div><p>这样，我们就基于FIS，开发出了一种manifest支持的模式，工程师无需手动维护文件的内容。当然，我们也可以给文件自定义一些属性，来控制是否加入到manifest表中。比如我们假设 只允许某些特定文件做manifest，其他文件不需要。我们可以修改前面的配置，加上一个小小的标示：</p><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">fis</span><span class="p">.</span><span class="nx">config</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s1">'modules.postpackager'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">ret</span><span class="p">){</span>
    <span class="kd">var</span> <span class="nx">manifest</span> <span class="o">=</span> <span class="nx">fis</span><span class="p">.</span><span class="nx">file</span><span class="p">(</span><span class="nx">fis</span><span class="p">.</span><span class="nx">getProjectPath</span><span class="p">(</span><span class="s1">'res.manifest'</span><span class="p">));</span>
    <span class="kd">var</span> <span class="nx">content</span> <span class="o">=</span> <span class="p">[</span> <span class="s1">'CACHE MANIFEST'</span><span class="p">,</span> <span class="s1">'CACHE:'</span> <span class="p">];</span>
    <span class="kd">var</span> <span class="nx">url</span> <span class="o">=</span> <span class="nx">manifest</span><span class="p">.</span><span class="nx">getUrl</span><span class="p">();</span>
    <span class="nx">fis</span><span class="p">.</span><span class="nx">util</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">ret</span><span class="p">.</span><span class="nx">src</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">subpath</span><span class="p">,</span> <span class="nx">file</span><span class="p">){</span>
        <span class="k">if</span><span class="p">(</span><span class="nx">file</span><span class="p">.</span><span class="nx">isHtmlLike</span><span class="p">){</span> <span class="c1">//如果是html类文件</span>
            <span class="nx">file</span><span class="p">.</span><span class="nx">setContent</span><span class="p">(</span><span class="nx">file</span><span class="p">.</span><span class="nx">getContent</span><span class="p">().</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/&lt;html</span><span class="se">\s</span><span class="sr">+/g</span><span class="p">,</span> <span class="s1">'$&amp;manifest="'</span> <span class="o">+</span> <span class="nx">url</span> <span class="o">+</span> <span class="s1">'" '</span><span class="p">));</span>
        <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">file</span><span class="p">.</span><span class="nx">useManifest</span><span class="p">){</span> <span class="c1">//如果文件有useManifest属性，才加入缓存</span>
            <span class="nx">content</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">file</span><span class="p">.</span><span class="nx">getUrl</span><span class="p">());</span> 
        <span class="p">}</span>
    <span class="p">});</span>
    <span class="nx">manifest</span><span class="p">.</span><span class="nx">setContent</span><span class="p">(</span><span class="nx">content</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s1">'\n'</span><span class="p">));</span>
    <span class="nx">ret</span><span class="p">.</span><span class="nx">pkg</span><span class="p">[</span><span class="nx">manifest</span><span class="p">.</span><span class="nx">subpath</span><span class="p">]</span> <span class="o">=</span> <span class="nx">manifest</span><span class="p">;</span>
<span class="p">});</span>

</code></pre></div><p>这里我们使用到了文件的一个叫 useManifest 的属性，这个属性其实是不存在的，我新增加的，如果我们希望某个文件有这样的属性值，比如我们希望 lib目录下的js加入到manifest中，那么我们只要再追加这样的配置就好了：</p><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">fis</span><span class="p">.</span><span class="nx">config</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s1">'roadmap.path'</span><span class="p">,</span> <span class="p">[</span>
    <span class="p">{</span>
        <span class="na">reg</span> <span class="p">:</span> <span class="s1">'lib/**.js'</span><span class="p">,</span>           <span class="c1">//lib目录下的所有js文件</span>
        <span class="na">useManifest</span> <span class="p">:</span> <span class="kc">true</span>   <span class="c1">//文件属性中useManifest为true</span>
    <span class="p">}</span>
<span class="p">]);</span>

</code></pre></div><p>这个 roadmap.path 就是fis内部文件系统的配置选项，我们可以用reg这个属性来匹配文件路径，然后追加或修改文件的属性，roadmap.path作为前端架构设计中的规范设计描述提供给使用者。</p><p>另外，经过许多团队的实践表明，application cache目前还有各种莫名其妙的坑，如果决定使用，请仔细验证可行性和可靠性问题</p><!--  --><br><strong>有任何问题，请在 <a href="https://github.com/fex-team/fis/issues">https://github.com/fex-team/fis/issues</a> 讨论</strong></article><script type="text/javascript">$("a").each(function(t,r){0===$(r).attr("href").indexOf("/")?$(r).attr("href",""+$(r).attr("href")):0!==$(r).attr("href").indexOf("#")&&$(r).attr("target","_blank")});</script><script type="text/javascript" charset="utf-8" src="http://fex-team.github.io/fis-site/assets/themes/fis/js/document_f64176c.js"></script>
</div></div><script type="text/javascript">var _bdhmProtocol="https:"==document.location.protocol?" https://":" http://";document.write(unescape("%3Cscript src='"+_bdhmProtocol+"hm.baidu.com/h.js%3F4206d67a3ea708c0d2a9354c8d88525f' type='text/javascript'%3E%3C/script%3E"));</script><!-- Latest compiled and minified JavaScript, requires jQuery 1.x (2.x not supported in IE8) --><!-- Placed at the end of the document so the pages load faster --><script type="text/javascript" charset="utf-8" src="http://fex-team.github.io/fis-site/assets/themes/fis/js/perfect-scrollbar.min_6dcf0df.js"></script>
<script type="text/javascript">!function(){function e(e,n){var i=$('<div style="display:none;"/>').appendTo($("body"));i.html("<!--[if "+(n||"")+" IE "+(e||"")+"]><a>&nbsp;</a><![endif]-->");var o=i.find("a").length;return i.remove(),o}function n(){function e(){i||(console.log("enable"),i=!0,$(".sidebar").perfectScrollbar({wheelSpeed:10,wheelPropagation:!1}))}function n(){i&&(console.log("disable"),i=!1,$(".sidebar").perfectScrollbar("destroy"))}$(window).width()>760&&$(".sidebar").height()<$(".sidebar ul").height()?e():n()}var i=!1;e(8,"lte")||($(".sidebar").addClass("scrollbar"),n(),$(window).resize(n))}();</script></body></html>